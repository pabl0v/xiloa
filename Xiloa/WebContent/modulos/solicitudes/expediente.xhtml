<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
       <link type="text/css" rel="stylesheet" href="../../resources/css/expediente.css"></link>
    </h:head>
    <h:body>
    <div id="contenedor">
        <div id="header">
            <ui:insert name="header" >
                <ui:include src="../../modulos/compartido/paginamaestra.xhtml" />
	    	</ui:insert>
	    	<script type="text/javascript" src="../../resources/scripts/expediente.js"></script>
		</div>
		<h:form>
    	<h2>Expediente: <a>#{expedienteManagedBean.solicitudExp.id}</a></h2>
    	<h3>Datos del solicitante/Candidato</h3>
    	<div id="seccion_datossolicitante" class="seccion_expediente" style="padding:10px;">    	  
   		
    		<h:outputLabel styleClass="estilo_label" for="nombreCandidato" value="Nombre del candidato:" />  
            <p:inputText id="nombreCandidato" value="#{expedienteManagedBean.solicitudExp.contacto.nombreCompleto}" />
            <h:outputLabel styleClass="estilo_label" for="numeroIdentificacion" value="Numero de identificacion:" />  
            <p:inputText id="numeroIdentificacion" value="#{expedienteManagedBean.solicitudExp.contacto.numeroIdentificacion}" />
            <h:outputLabel styleClass="estilo_label" for="certificacionNombre" value="Solicitud para evaluar:" />  
            <p:inputText id="certificacionNombre" value="#{expedienteManagedBean.solicitudExp.certificacion.nombre}" />
            <h:outputLabel styleClass="estilo_label" for="genero" value="Genero:" />  
            <p:inputText id="genero" value="#{expedienteManagedBean.solicitudExp.contacto.sexo}" />
            <h:outputLabel styleClass="estilo_label" for="telefono" value="Telefono:" />  
            <p:inputText id="telefono" value="#{expedienteManagedBean.solicitudExp.contacto.telefono1}" />
            <h:outputLabel styleClass="estilo_label" for="celular" value="Celular:" />  
            <p:inputText id="celular" value="#{expedienteManagedBean.solicitudExp.contacto.telefono2}" />
            <h:outputLabel styleClass="estilo_label" for="email1" value="Correo electronico:" />  
            <p:inputText id="email1" value="#{expedienteManagedBean.solicitudExp.contacto.correo1}" />
            <h:outputLabel styleClass="estilo_label" for="direccionActual" value="Direccion actual:" />  
            <p:inputText id="direccionActual" value="#{expedienteManagedBean.solicitudExp.contacto.direccionActual}" />
            <h:outputLabel styleClass="estilo_label" for="municipio" value="Municipio:" />  
            <p:inputText id="municipio" value="#{expedienteManagedBean.solicitudExp.contacto.nacionalidadId}" />  
            <p:commandButton style="display:block;" value="Aplicar" id="updateContacto" action="#{expedienteManagedBean.actualizarContacto}" />          
    	</div>
    		<div class="barra_azul">  
    			<p style="padding: 7px;font-weight:bold;">Trayectoria profesional y academica:</p>  		
    			<div>  
	    			<h:outputLabel styleClass="estilo_label" for="statusActual" value="Estatus actual:" />  
	            	<p:inputText id="statusActual" value="#{expedienteManagedBean.estadoActual}" />
	            </div>
	            <div>
	            	<h:outputLabel styleClass="estilo_label" for="statusSiguiente" value="Siguiente Estatus:" />  
            		<p:inputText id="statusSiguiente" value="#{expedienteManagedBean.estadoSiguiente}" />
            	</div>
            	<div>
            		<p:commandButton value="Agregar" onclick="PF('dlg1').show();" />
            	</div>              
    		</div>	
    	<div class="seccion_expediente">
    		
    		<div id="contenedor_tab_profesional">    			
    			<p:tabView id="tabView1">    			   
                    <p:tab id="tab1" title="Experiencia">                    	  
                         <p:dataTable emptyMessage="No hay datos para mostrar" var="datosLaborales" value="#{expedienteManagedBean.listDatosLaborales}">      
                             <p:column headerText="Empresa"><h:outputText value="#{datosLaborales.institucion}" /></p:column>  
                             <p:column headerText="Cargo"><h:outputText value="#{datosLaborales.cargo}" /></p:column>  
                             <p:column headerText="Desde"><h:outputText value="#{datosLaborales.fechaInicia}" /></p:column>  
                             <p:column headerText="Hasta"><h:outputText value="#{datosLaborales.fechaFinaliza}" /></p:column>  
                             <p:column headerText="Direccion"><h:outputText value="#{datosLaborales.institucionDireccion}" /></p:column>  
                             <p:column >
                             	<p:commandButton id="editarExperiencia" action="#{expedienteManagedBean.editarLaboral}" onclick="PF('dlg1').show();" 
                             	                 icon="ui-icon-pencil" title="Editar">  
        							<f:setPropertyActionListener value="#{datosLaborales}" target="#{expedienteManagedBean.selectedLaboral}" />  
        						</p:commandButton>                             	
                             </p:column>                             
                        </p:dataTable>    
                    </p:tab>  

                    <p:tab id="tab2" title="Estudios">                    	  
                        <p:dataTable emptyMessage="No hay datos para mostrar"  var="datosEstudios" value="#{expedienteManagedBean.listDatosEstudios}">  
                             <p:column headerText="Empresa"><h:outputText value="#{datosEstudios.institucion}" /></p:column>  
                             <p:column headerText="Cargo"><h:outputText value="#{datosEstudios.cargo}" /></p:column>  
                             <p:column headerText="Desde"><h:outputText value="#{datosEstudios.fechaInicia}" /></p:column>  
                             <p:column headerText="Hasta"><h:outputText value="#{datosEstudios.fechaFinaliza}" /></p:column>  
                             <p:column headerText="Direccion"><h:outputText value="#{datosEstudios.institucionDireccion}" /></p:column>  
                             <p:column headerText="Editar"><h:outputText value="#{datosEstudios.id}" /></p:column>  
                        </p:dataTable>       
                    </p:tab>  

                    <p:tab id="tab3" title="Calificaciones">                    	  
                        <p:dataTable emptyMessage="No hay datos para mostrar"  var="datosCalificacion" value="#{expedienteManagedBean.listDatosCalificacion}">  
                             <p:column headerText="Empresa"><h:outputText value="#{datosCalificacion.institucion}" /></p:column>  
                             <p:column headerText="Cargo"><h:outputText value="#{datosCalificacion.cargo}" /></p:column>  
                             <p:column headerText="Desde"><h:outputText value="#{datosCalificacion.fechaInicia}" /></p:column>  
                             <p:column headerText="Hasta"><h:outputText value="#{datosCalificacion.fechaFinaliza}" /></p:column>  
                             <p:column headerText="Direccion"><h:outputText value="#{datosCalificacion.institucionDireccion}" /></p:column>  
                             <p:column headerText="Editar"><h:outputText value="#{datosCalificacion.id}" /></p:column>  
                        </p:dataTable>    
                    </p:tab>  
                    
                    <p:tab id="tab4" title="Certificaciones">                    	  
                        <p:dataTable emptyMessage="No hay datos para mostrar"  var="datosCertificacion" value="#{expedienteManagedBean.listDatosCertificaciones}">  
                             <p:column headerText="Empresa"><h:outputText value="#{datosCertificacion.institucion}" /></p:column>  
                             <p:column headerText="Cargo"><h:outputText value="#{datosCertificacion.cargo}" /></p:column>  
                             <p:column headerText="Desde"><h:outputText value="#{datosCertificacion.fechaInicia}" /></p:column>  
                             <p:column headerText="Hasta"><h:outputText value="#{datosCertificacion.fechaFinaliza}" /></p:column>  
                             <p:column headerText="Direccion"><h:outputText value="#{datosCertificacion.institucionDireccion}" /></p:column>  
                             <p:column headerText="Editar"><h:outputText value="#{datosCertificacion.id}" /></p:column>  
                        </p:dataTable>    
                    </p:tab>  

                </p:tabView>  
    		</div>
    	</div>
    	<div class="seccion_expediente" style="width:98%">
    		<div id="contenedor_tab_planes">
    			<p:tabView id="tabView2">  
                    <p:tab id="tab1" title="UC a evaluar"> 
                    	<p:commandButton value="Agregar" /> 
                         <p:dataTable emptyMessage="No hay datos"  var="uC" value="#{expedienteManagedBean.listDatosCertificaciones}">  
                             <p:column headerText="Elemento de Competencia o Realizacion Profesional"><h:outputText value="#{uC.institucion}" /></p:column>  
                             <p:column headerText="Tecnica o instrumento de evaluacion"><h:outputText value="#{uC.institucion}" /></p:column>  
                             <p:column headerText="Requisito"><h:outputText value="#{uC.institucion}" /></p:column>  
                             <p:column headerText="Estado"><h:outputText value="#{uC.institucion}" /></p:column>  
                             <p:column headerText="Editar"></p:column>              
                        </p:dataTable>    
                    </p:tab>  

                    <p:tab id="tab2" title="Portafolio">  
                    	<p:commandButton value="Agregar" />
                         <p:dataTable emptyMessage="No hay datos"  var="portafolioEvidencia" value="#{expedienteManagedBean.listDatosCertificaciones}">  
                             <p:column headerText="Documento de soporte o evidencia"><h:outputText value="#{portafolioEvidencia.institucion}" /></p:column>  
                             <p:column headerText="Descripcion"><h:outputText value="#{portafolioEvidencia.institucion}" /></p:column>  
                             <p:column headerText="Respaldo de"><h:outputText value="#{portafolioEvidencia.institucion}" /></p:column>  
                             <p:column headerText="Estado"><h:outputText value="#{portafolioEvidencia.institucion}" /></p:column>  
                             <p:column headerText="Editar"></p:column>              
                        </p:dataTable>     
                    </p:tab>  

                    <p:tab id="tab3" title="Plan de evaluacion">
                    	<p:commandButton value="Agregar" />  
                         <p:dataTable emptyMessage="No hay datos"  var="evaluaciones" value="#{expedienteManagedBean.listEvaluaciones}">  
                             <p:column headerText="Instrumento de evaluacion"><h:outputText value="#{evaluaciones.instrumento}" /></p:column>  
                             <p:column headerText="Observacion"><h:outputText value="#{evaluaciones.descripcion}" /></p:column>  
                             <p:column headerText="Fecha"><h:outputText value="#{evaluaciones.fecha}" /></p:column>  
                             <p:column headerText="Aprobado"><h:outputText value="#{evaluaciones.aprobado}" /></p:column>  
                             <p:column headerText="Estado"><h:outputText value="#{evaluaciones.estadoInicial}" /></p:column>
                             <p:column headerText="Editar"></p:column>              
                        </p:dataTable>  
                    </p:tab>  
                    
                    <p:tab id="tab4" title="Plan de formacion">
                    	<p:commandButton value="Agregar" />  
                         <p:dataTable emptyMessage="No hay datos"  var="formacion" value="#{expedienteManagedBean.listDatosCertificaciones}">  
                             <p:column headerText="Elemento de Competencia o Realizacion Profesional"><h:outputText value="#{formacion.institucion}" /></p:column>  
                             <p:column headerText="Tecnica o instrumento de evaluacion"><h:outputText value="#{formacion.institucion}" /></p:column>  
                             <p:column headerText="Requisito"><h:outputText value="#{formacion.institucion}" /></p:column>  
                             <p:column headerText="Estado"><h:outputText value="#{formacion.institucion}" /></p:column>  
                             <p:column headerText="Editar"></p:column>              
                        </p:dataTable>  
                    </p:tab>  
                </p:tabView>  
    		</div>
    	</div>
    	
    	<!-- Cuadro de dialogo emergente que registra datos laborales y académicos -->    	
    	<p:dialog id="modalDialog" styleClass="estilo_dialogoLaborales" header="Agregar Datos Laborales y Academicos:" widgetVar="dlg1" 
    	          modal="true" resizable="false" width="520" height="340" showEffect="clip" hideEffect="clip" >
		<div id="contenedor_dialogoLaborales">			
				<h3>Registro de Datos Laborales y Academicos</h3>	
				<p>Tipo dato laboral:</p>			
				<p:selectOneMenu styleClass="selectores" id="selector_tipoDatoLaboral" value="#{expedienteManagedBean.tipoLaboral}" >				
					<f:selectItems value="#{expedienteManagedBean.listTipoDatosLaborales}" />			        
			    </p:selectOneMenu>					
				<h:outputLabel styleClass="estilo_label" for="nombreInstitucion" value="Nombre de la institucion:" />  
            	<p:inputText id="nombreInstitucion" value="#{expedienteManagedBean.nombreInstitucion}" />
                <h:outputLabel styleClass="estilo_label" for="nombreCargo" value="Cargo:" />  
            	<p:inputText id="nombreCargo" value="#{expedienteManagedBean.nombreCargo}" />
            	
				<div class="dialogoLaborales_secciones">
					<p:growl id="growlFechaDesde" showDetail="true"/>
					<p>Fecha Desde:</p>
					<p:calendar value="#{expedienteManagedBean.fechaDesde}" id="popupButtonCal1" showOn="button">
						<p:ajax event="dateSelect" update="growlFechaDesde" />
					</p:calendar>
				</div>
				<div class="dialogoLaborales_secciones">
					<p:growl id="growlFechaHasta" showDetail="true"/>
					<p>Fecha Hasta:</p>
					<p:calendar value="#{expedienteManagedBean.fechaHasta}" id="popupButtonCal2" showOn="button">
						<p:ajax event="dateSelect" update="growlFechaHasta" />
					</p:calendar>
				</div>				
				<h:outputLabel styleClass="estilo_label" for="institucionDireccion" value="Direccion de la institucion:" />  
            	<p:inputText id="institucionDireccion" value="#{expedienteManagedBean.institucionDireccion}" />					
				<div id="dialogoLaborales_botones">					
					<h:commandButton value="Cancelar" onclick="PF('dlg1').hide();"/>
					<h:commandButton value="Aceptar" action="#{expedienteManagedBean.guardarDatosLaborales}" update=":tabView1" />					
			</div>			
		</div>
	</p:dialog>    	
    	<!--  Fin Cuadro de dialogo emergente que registra datos laborales y académicos -->
    	</h:form>
    </div> 
</h:body>
</html>
