<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
       <link type="text/css" rel="stylesheet" href="../../resources/css/expediente.css"></link>
    </h:head>
    <h:body>
    <div id="contenedor">
        <div id="header">
            <ui:insert name="header" >
                <ui:include src="../../modulos/compartido/paginamaestra.xhtml" />
	    	</ui:insert>
	    	<script type="text/javascript" src="../../resources/scripts/expediente.js"></script>
		</div>
		<h:form id="formExpediente" enctype="multipart/form-data" > 
			<h2 style="display:inline-block;">Expediente: <a>#{expEvalManagedBean.solicitudExp.id}</a></h2>
			    		
			<p:commandButton id="convocarSolicitud" value="Convocar" title="Convocar Candidato" 
		                     icon="ui-icon-star" style="display:inline-block;"
		                     actionListener="#{expEvalManagedBean.convocarCertificacion}" 
		    			     update=":formExpediente:msgExpediente"    					       
		    			     disabled="#{expEvalManagedBean.disabledConvocar}"	/> 
		            
            <p:commandButton id="asesarSolicitud" value="Asesorado" title="Indica Asesorado" 
    		                 icon="ui-icon-pencil" style="display:inline-block;"
    		                 actionListener="#{expEvalManagedBean.asesorarCertificacion}" 
    					     update=":formExpediente:msgExpediente"    		
    					     disabled="#{expEvalManagedBean.disabledAsesorar}"			        					       
             				/>
		    		
    		<p:commandButton id="inscribirSolicitud" value="Inscripcion" title="Listo para Inscripcion" 
    		                 icon="ui-icon-arrowrefresh-1-w" style="display:inline-block;"
    		                 actionListener="#{expEvalManagedBean.inscripcionCertificacion}" 
    					     update=":formExpediente:msgExpediente"    		
    					     disabled="#{expEvalManagedBean.disabledCerrar}"			        					       
             				/> 
		             
             <p:commandButton id="concluirProcesoSolicitud" value="Finalizado" title="Concluir Proceso de Solicitud" 
    		                 icon="ui-icon-arrowrefresh-1-w" style="display:inline-block;"
    		                 actionListener="#{expEvalManagedBean.concluirCertificacion}" 
    					     update=":formExpediente:msgExpediente"    		
    					     disabled="#{expEvalManagedBean.disabledConcluido}"			        					       
             				/>
             				             							
            <p:splitButton value="Informe Asesor" icon="ui-icon-print" title="Generar Informe del Asesor" style="display:inline-block;"
	        	           action="#{expEvalManagedBean.runInformeAsesor}"  update=":formExpediente:msgExpediente" >   
	        	 <p:separator />         		   
	       		 <p:menuitem value="Plan Capacitacion" icon="ui-icon-print" title="Generar Plan de Capacitacion" style="display:inline-block;"  
	       		             action="#{expEvalManagedBean.runPlanCapacitacion}" update=":formExpediente:msgExpediente"  />	       			     			       			  
	   		</p:splitButton>
	   		
	   		 <p:commandButton id="anularProcesoSolicitud" value="Anular" title="Anular Proceso de Solicitud" 
							icon="ui-icon-arrowrefresh-1-w" style="display:inline-block;"
							action="#{expEvalManagedBean.anularSolicitud}" 
							update=":formExpediente:msgExpediente"    		
							disabled="#{expEvalManagedBean.disabledAnulado}"        					       
             />
				    		    		
    	<div>
    	<p:messages id="msgExpediente" showDetail="true" autoUpdate="true" closable="true" />
    	</div>
    	
    	<h3>Datos del solicitante/Candidato</h3>
    	<div id="seccion_datossolicitante" class="seccion_expediente" style="padding:10px;">   		 	  
    		<h:outputLabel styleClass="estilo_label" for="nombreCandidato" value="Nombre del candidato:" />
    		<h:outputText styleClass="estilo_span" id="nombreCandidato" value="#{expEvalManagedBean.solicitudExp.contacto.nombreCompleto}" />            
            <h:outputLabel styleClass="estilo_label" for="numeroIdentificacion" value="Numero de identificacion:" />
            <h:outputText styleClass="estilo_span" id="numeroIdentificacion" value="#{expEvalManagedBean.solicitudExp.contacto.numeroIdentificacion}" />            
            <h:outputLabel styleClass="estilo_label" for="certificacionNombre" value="Solicitud para evaluar:" />            
            <h:outputText styleClass="estilo_span" id="certificacionNombre" value="#{expEvalManagedBean.solicitudExp.certificacion.nombre}" />
            <h:outputLabel styleClass="estilo_label" for="genero" value="Genero:" />
            <h:outputText styleClass="estilo_span" id="genero" value="#{expEvalManagedBean.generoContacto.valor}" />                       
            <h:outputLabel styleClass="estilo_label" for="telefono" value="Telefono:" />  
            <h:outputText styleClass="estilo_span" id="telefono" value="#{expEvalManagedBean.solicitudExp.contacto.telefono1}" />
            <h:outputLabel styleClass="estilo_label" for="celular" value="Celular:" />  
            <h:outputText styleClass="estilo_span" id="celular" value="#{expEvalManagedBean.solicitudExp.contacto.telefono2}" />
            <h:outputLabel styleClass="estilo_label" for="email1" value="Correo electronico:" />  
            <h:outputText styleClass="estilo_span" id="email1" value="#{expEvalManagedBean.solicitudExp.contacto.correo1}" />
            <h:outputLabel styleClass="estilo_label" for="direccionActual" value="Direccion actual:" />  
            <h:outputText styleClass="estilo_span" id="direccionActual" value="#{expEvalManagedBean.solicitudExp.contacto.direccionActual}" />
            <h:outputLabel styleClass="estilo_label" for="selector_departamento" value="Departamento:" />
            <h:outputText styleClass="estilo_span" id="selector_departamento" value="#{expEvalManagedBean.deptoContacto.dpto_nombre}" />
            <h:outputLabel styleClass="estilo_label" for="selector_municipio" value="Municipio:" />          	     
            <h:outputText styleClass="estilo_span" id="selector_municipio" value="#{expEvalManagedBean.municipioContacto.municipio_nombre}" />
    	</div>    	
    	<p:panel styleClass="panel_barra_azul">
	    	<div class="barra_azul">  
	    		<p style="padding: 7px;font-weight:bold;">Trayectoria profesional y academica:</p>  		
	    		<div>  
		    		<h:outputLabel styleClass="estilo_label" value="Estatus actual:" />
		    		#{expEvalManagedBean.estadoActual.valor}	           	
		        </div>
		        <div>	        
	            	<h:outputLabel styleClass="estilo_label" value="Siguiente Estatus:" />
	            	  #{expEvalManagedBean.estadoSiguiente.valor}           		
	           	</div>           	              
	    	</div>	
	    </p:panel>
    	<div id="contenedor_datos_lab" class="seccion_expediente">	    					
    		<p:tabView id="tabView_datosLaborales">    			   
            	<p:tab id="tab1" title="Experiencia">                    	  
                	<p:dataTable emptyMessage="No hay datos para mostrar" var="datosLaborales" 
                				 value="#{expEvalManagedBean.listDatosLaborales}" selection="#{expEvalManagedBean.selectedLaboral}" 
                				 rowKey="#{datosLaborales}" selectionMode="single" paginator="true" rows="4" >      
                    	<p:column headerText="Empresa"><h:outputText value="#{datosLaborales.institucion}" /></p:column>  
                         <p:column headerText="Cargo"><h:outputText value="#{datosLaborales.cargo}" /></p:column>  
                         <p:column headerText="Desde">
                         	<h:outputText value="#{datosLaborales.fechaInicia}" pattern="dd/MM/yyyy" >
                         		<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                         	</h:outputText>
                         </p:column>  
                         <p:column headerText="Hasta">
                         	<h:outputText value="#{datosLaborales.fechaFinaliza}" pattern="dd/MM/yyyy" >
                         		<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                         	</h:outputText>
                         </p:column>  
                         <p:column headerText="Direccion"><h:outputText value="#{datosLaborales.institucionDireccion}" /></p:column>                         
                         <p:column headerText="Editar Registro" >
                         	<p:commandButton id="btnEditaLaboral" title="Editar" icon="ui-icon-pencil" style="display:block;"
                         				     action="#{expEvalManagedBean.editarLaboral}"
                         					 update=":formExpediente:modalLaborales" oncomplete="PF('dlg1').show();" >
                         		<f:setPropertyActionListener value="#{datosLaborales}" target="#{expEvalManagedBean.selectedLaboral}" />
                         	</p:commandButton>       	
                         </p:column>                                         
                    </p:dataTable>    
               </p:tab>  

               <p:tab id="tab2" title="Estudios">                    	  
                   <p:dataTable emptyMessage="No hay datos para mostrar"  var="datosEstudios" 
                                value="#{expEvalManagedBean.listDatosEstudios}" selection="#{expEvalManagedBean.selectedLaboral}" 
                				 rowKey="#{datosEstudios}" selectionMode="single" paginator="true" rows="4" >  
                        <p:column headerText="Empresa"><h:outputText value="#{datosEstudios.institucion}" /></p:column>  
                        <p:column headerText="Cargo"><h:outputText value="#{datosEstudios.cargo}" /></p:column>  
                        <p:column headerText="Desde">
                        	<h:outputText value="#{datosEstudios.fechaInicia}" pattern="dd/MM/yyyy" >
                        		<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        	</h:outputText>
                        </p:column>  
                        <p:column headerText="Hasta">
                        	<h:outputText value="#{datosEstudios.fechaFinaliza}" pattern="dd/MM/yyyy" >
                        		<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        	</h:outputText>
                        </p:column>  
                        <p:column headerText="Direccion"><h:outputText value="#{datosEstudios.institucionDireccion}" /></p:column>  
                        <p:column headerText="Editar Registro">
                        	<p:commandButton id="btnEditaLaboral" title="Editar" icon="ui-icon-pencil" style="display:block;"
                         				     action="#{expEvalManagedBean.editarLaboral}"
                         					 update=":formExpediente:modalLaborales" oncomplete="PF('dlg1').show();" >
                         		<f:setPropertyActionListener value="#{datosEstudios}" target="#{expEvalManagedBean.selectedLaboral}" />
                         	</p:commandButton>
                        </p:column>  
                   </p:dataTable>       
               </p:tab>  

               <p:tab id="tab3" title="Calificaciones">                    	  
                   <p:dataTable emptyMessage="No hay datos para mostrar"  var="datosCalificacion" 
                                value="#{expEvalManagedBean.listDatosCalificacion}" selection="#{expEvalManagedBean.selectedLaboral}" 
                				 rowKey="#{datosCalificacion}" selectionMode="single" paginator="true" rows="4" >  
                        <p:column headerText="Empresa"><h:outputText value="#{datosCalificacion.institucion}" /></p:column>  
                        <p:column headerText="Cargo"><h:outputText value="#{datosCalificacion.cargo}" /></p:column>  
                        <p:column headerText="Desde">
                        	<h:outputText value="#{datosCalificacion.fechaInicia}" pattern="dd/MM/yyyy" >
                        		<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        	</h:outputText>
                        </p:column>  
                        <p:column headerText="Hasta">
                        	<h:outputText value="#{datosCalificacion.fechaFinaliza}" pattern="dd/MM/yyyy" >
                        		<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        	</h:outputText>
                        </p:column>  
                        <p:column headerText="Direccion"><h:outputText value="#{datosCalificacion.institucionDireccion}" /></p:column>  
                        <p:column headerText="Editar Registro">
                        	<p:commandButton id="btnEditaLaboral" title="Editar" icon="ui-icon-pencil" style="display:block;"
                         				     action="#{expEvalManagedBean.editarLaboral}"
                         					 update=":formExpediente:modalLaborales" oncomplete="PF('dlg1').show();" >
                         		<f:setPropertyActionListener value="#{datosCalificacion}" target="#{expEvalManagedBean.selectedLaboral}" />
                         	</p:commandButton>                         	                        	
						</p:column>  
                   </p:dataTable>    
               </p:tab>  
                    
               <p:tab id="tab4" title="Certificaciones">                    	  
                   <p:dataTable emptyMessage="No hay datos para mostrar"  var="datosCertificacion" value="#{expEvalManagedBean.listDatosCertificaciones}" 
                                selection="#{expEvalManagedBean.selectedLaboral}" rowKey="#{datosCertificacion}" 
                                selectionMode="single" paginator="true" rows="4" >  
                        <p:column headerText="Empresa"><h:outputText value="#{datosCertificacion.institucion}" /></p:column>  
                        <p:column headerText="Cargo"><h:outputText value="#{datosCertificacion.cargo}" /></p:column>  
                        <p:column headerText="Desde">
                        	<h:outputText value="#{datosCertificacion.fechaInicia}" pattern="dd/MM/yyyy" >
                        		<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        	</h:outputText>
                        </p:column>  
                        <p:column headerText="Hasta">
                        	<h:outputText value="#{datosCertificacion.fechaFinaliza}" pattern="dd/MM/yyyy" >
                        		<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                        	</h:outputText>
                        </p:column>  
                        <p:column headerText="Direccion"><h:outputText value="#{datosCertificacion.institucionDireccion}" /></p:column>  
                        <p:column headerText="Editar Registro">
                        	<p:commandButton id="btnEditaLaboral" title="Editar" icon="ui-icon-pencil" style="display:block;"
                         				     action="#{expEvalManagedBean.editarLaboral}"
                         					 update=":formExpediente:modalLaborales" oncomplete="PF('dlg1').show();" >
                         		<f:setPropertyActionListener value="#{datosCertificacion}" target="#{expEvalManagedBean.selectedLaboral}" />
                         	</p:commandButton>                         	                 
						</p:column>  
                   </p:dataTable>    
               </p:tab>  
           </p:tabView>  		
    	</div>
    	<div id="contenedor_tab_planes" class="seccion_expediente" style="width:98%">
    		<p:tabView id="tabView_Evaluaciones"> 
    				<p:tab id="tabPortafolio" title="Portafolio">                    	                    	
                         <p:dataTable id="dtPortafolio" emptyMessage="No hay datos"  var="portafolioEvidencia" 
                                      value="#{expEvalManagedBean.listPortafolioContacto}"
                                      selection="#{expEvalManagedBean.selectedArchivoId}" rowKey="#{portafolioEvidencia}"                 			 		   
                         			  selectionMode="single" paginator="true" rows="8" >
                         			   
                             <p:column headerText="Documento de soporte o evidencia"><h:outputText value="#{portafolioEvidencia.nombre}" /></p:column>  
                             <p:column headerText="Descripcion"><h:outputText value="#{portafolioEvidencia.descripcion}" /></p:column>  
                             <p:column headerText="Respaldo de"><h:outputText value="#{portafolioEvidencia.laboral.nombre}" /></p:column>  
                             <p:column headerText="Estado">                             	
	                             <h:outputText value="#{portafolioEvidencia.estado.valor}" /> 	                             
                             </p:column>                                 
                             <p:column headerText="Indica Verificado">
                             	<p:splitButton id="splitEditPortafolio" value="Aprobado" 
                             	               action="#{expEvalManagedBean.aprobarPortafolio}" update="dtPortafolio" 
                             	               icon="ui-icon-arrowrefresh-1-w">							          
                             	     	<f:setPropertyActionListener value="#{portafolioEvidencia.laboral}" target="#{expEvalManagedBean.selectedLaboral}" />
                         				<f:setPropertyActionListener value="#{portafolioEvidencia}" target="#{expEvalManagedBean.archivoExp}" />
                         				<f:setPropertyActionListener value="Aprobado" target="#{expEvalManagedBean.archivoExp.aprobado}" />
							        <p:menuitem id="mnuSplitEditPortafolio" value="No Aprobado" 
							                   action="#{expEvalManagedBean.reprobarPortafolio}" update="dtPortafolio" 
							                   icon="ui-icon-close">
							        	<f:setPropertyActionListener value="#{portafolioEvidencia.laboral}" target="#{expEvalManagedBean.selectedLaboral}" />
                         				<f:setPropertyActionListener value="#{portafolioEvidencia}" target="#{expEvalManagedBean.archivoExp}" />
                         				<f:setPropertyActionListener value="No Aprobado" target="#{expEvalManagedBean.archivoExp.aprobado}" />
                         			</p:menuitem>             						        
							    </p:splitButton>                                							     							                                                    
                             </p:column>                                      
                        </p:dataTable>
                    </p:tab>  
                    
                    <p:tab id="tab1" title="UC a evaluar" >                    	                   	 
                    	 <p:commandButton id="btnAgregaEvaluacion" disabled="#{expEvalManagedBean.disabledBtnAgregaEvaluacion}" 
                    	                  action="#{expEvalManagedBean.registrarEvaluacion}" value="Agregar" icon="ui-icon-document"   >
                    	 	<f:setPropertyActionListener value="#{expEvalManagedBean.solicitudExp}" target="#{evaluacionManagedBean.solicitudEval}" />                    	 
                    	 </p:commandButton>
                    	  
                         <!-- <p:dataTable emptyMessage="No hay datos"  var="uC" value="#{expEvalManagedBean.listBeanEval}"-->
                         <p:dataTable emptyMessage="No hay datos"  var="uC" value="#{expEvalManagedBean.listEvaluaciones}"
                         			  selection="#{expEvalManagedBean.selectedBeanEvaluacion}" rowKey="#{uC.id}" 
                         			  selectionMode="single" paginator="true" rows="6"> 
                             <p:column headerText="Elemento de Competencia o Realizacion Profesional"><h:outputText value="#{expEvalManagedBean.getCompetenciaDescripcion(uC.instrumento.unidad)}" /></p:column>  
                             <p:column headerText="Tecnica o instrumento de evaluacion"><h:outputText value="#{uC.instrumento.nombre} [ #{uC.instrumento.tipo.valor} ]" /></p:column>  
                             <!--  <p:column headerText="Requisito"><h:outputText value="#{uC.instrumento.nombre}" /></p:column> -->  
                             <p:column headerText="Estado"><h:outputText value="#{uC.estado.valor}" /></p:column>  
                             <p:column headerText="Editar">
                             	<p:commandButton id="editarEvaluaciones" action="#{expEvalManagedBean.editarEvaluacion(uC)}"                         	            	          
                         	                	 icon="ui-icon-pencil" title="Editar">    	
                         			<f:setPropertyActionListener value="#{uC.solicitud}" target="#{evaluacionManagedBean.solicitudEval}" />
									<f:setPropertyActionListener value="#{uC}" target="#{evaluacionManagedBean.selectedEvaluacion}" />
									<f:setPropertyActionListener value="#{uC.instrumento}" target="#{evaluacionManagedBean.selectedInstrumento}" />                         			                         									  
									<f:setPropertyActionListener value="#{uC.instrumento.unidad}" target="#{evaluacionManagedBean.selectedUnidad}" />
    							</p:commandButton>                        
                             </p:column>              
                        </p:dataTable>    
                    </p:tab>  
                    
                    <p:tab id="tab3" title="Plan de evaluacion">                    	  
                         <!-- <p:dataTable emptyMessage="No hay datos"  var="evaluaciones" value="#{expEvalManagedBean.listBeanEval}"-->
                         <p:dataTable emptyMessage="No hay datos"  var="evaluaciones" value="#{expEvalManagedBean.listEvaluaciones}"
                                      selection="#{expEvalManagedBean.selectedBeanEvaluacion}" rowKey="#{evaluaciones.id}" 
                         			  selectionMode="single" paginator="true" rows="8" >  
                             <p:column headerText="Instrumento de evaluacion"><h:outputText value="#{evaluaciones.instrumento.nombre} [ #{evaluaciones.instrumento.tipo.valor} ]" /></p:column>  
                             <p:column headerText="Observacion"><h:outputText value="#{evaluaciones.observaciones}" /></p:column>  
                             <p:column headerText="Fecha">
                             	<h:outputText value="#{evaluaciones.fechaEvaluacion}" pattern="dd/MM/yyyy" >
                             		<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                             	</h:outputText>
                             </p:column>  
                             <p:column headerText="Aprobado"><p:selectBooleanCheckbox value="#{evaluaciones.aprobado}" disabled="true" /></p:column>  
                             <p:column headerText="Estado"><h:outputText value="#{evaluaciones.estado.valor}" /></p:column>
                             <!-- 
                             <p:column headerText="Editar">
                             	<p:commandButton id="editarEvaluacionesPlan" action="#{expEvalManagedBean.RegistrarEditarEvaluacion}"                         	                 	  
                         	                 	 icon="ui-icon-pencil" title="Editar">                         					
                         			<f:setPropertyActionListener value="#{evaluaciones.solicitudBeanEval}" target="#{evaluacionManagedBean.solicitudEval}" />
									<f:setPropertyActionListener value="#{evaluaciones.evaluacion}" target="#{evaluacionManagedBean.selectedEvaluacion}" />
									<f:setPropertyActionListener value="#{evaluaciones.instrumento}" target="#{evaluacionManagedBean.selectedInstrumento}" />                         			                         									  
									<f:setPropertyActionListener value="#{evaluaciones.evaluacion.unidad}" target="#{evaluacionManagedBean.selectedUnidad}" />				  
    							</p:commandButton>    							                   
                             </p:column>
                              -->              
                        </p:dataTable>  
                    </p:tab>                      
                    <p:tab id="tabFormacion" title="Plan de formacion">                                 	  
                         <!-- <p:dataTable emptyMessage="No hay datos"  var="formacion" value="#{expEvalManagedBean.listBeanEvalFormacion}"-->
                         <p:dataTable emptyMessage="No hay datos"  var="formacion" value="#{expEvalManagedBean.listEvaluaciones}"
                                      selection="#{expEvalManagedBean.selectedBeanEvaluacion}" rowKey="#{formacion.id}" 
                         			  selectionMode="single" paginator="true" rows="8" >                         	 
                             <p:column headerText="Elemento de Competencia o Realizacion Profesional"><h:outputText value="#{expEvalManagedBean.getCompetenciaDescripcion(formacion.instrumento.unidad)}" /></p:column>  
                             <p:column headerText="Tecnica o instrumento de evaluacion"><h:outputText value="#{formacion.instrumento.nombre} [ #{formacion.instrumento.tipo.valor} ]" /></p:column>                               
                             <p:column headerText="Observaciones"><h:outputText value="#{formacion.observaciones}" /></p:column>
                             <p:column headerText="Aprobado"><p:selectBooleanCheckbox value="#{formacion.aprobado}" disabled="true" /></p:column>  
                             <p:column headerText="Estado"><h:outputText value="#{formacion.estado.valor}" /></p:column>
                             <!-- 
                             <p:column headerText="Editar">
                             	<p:commandButton id="editarEvaluacionesPlanForma" action="#{expEvalManagedBean.RegistrarEditarEvaluacion}" 
                         	                 	 icon="ui-icon-pencil" title="Editar">                         				
                         			<f:setPropertyActionListener value="#{formacion.solicitudBeanEval}" target="#{evaluacionManagedBean.solicitudEval}" />
									<f:setPropertyActionListener value="#{formacion.evaluacion}" target="#{evaluacionManagedBean.selectedEvaluacion}" />
									<f:setPropertyActionListener value="#{formacion.instrumento}" target="#{evaluacionManagedBean.selectedInstrumento}" />                         			                         									  
									<f:setPropertyActionListener value="#{formacion.evaluacion.unidad}" target="#{evaluacionManagedBean.selectedUnidad}" />					  
    							</p:commandButton>    							
                             </p:column>
                              -->
                        </p:dataTable>                        
                    </p:tab>  
                    
                     <p:tab id="tabEvalUnidad" title="Evaluacion por Unidad" >  
                         <p:dataTable emptyMessage="No hay datos"  var="uCL" value="#{expEvalManagedBean.listEvaluacionesUnidad}" rowKey="#{uCL.id}"  selectionMode="single" paginator="true" rows="8" >  
                             <p:column headerText="Elemento de Competencia o Realizacion Profesional"><h:outputText value="#{expEvalManagedBean.getCompetenciaDescripcion(uCL.id)}" /></p:column>  
                             <p:column headerText="Estado"><h:outputLabel value="Aprobado" rendered="#{uCL.descripcion == '1'}" /><h:outputLabel value="Pendiente" rendered="#{uCL.descripcion != '1'}" /></p:column> 
                             <!--<p:column headerText="Estado"><p:selectBooleanCheckbox value="#{uCL.descripcion}" disabled="true" /></p:column>-->                    
                        </p:dataTable>    
                    </p:tab>
                </p:tabView>    		
    	</div>
    	    	     	
    	<!-- Cuadro de dialogo emergente que registra datos laborales y académicos -->    	    	
    	<p:dialog id="modalLaborales" styleClass="estilo_dialogoLaborales" header="Agregar Datos Laborales y Academicos:" widgetVar="dlg1" 
    	          modal="true" resizable="false" width="720" height="540" showEffect="clip" hideEffect="clip" >
    	   <div id="modal_laborales">					
				<h3 style="margin-left: -11px;">Registro de Datos Laborales y Academicos</h3>					
				<p style="margin-left: 4px;">Tipo dato laboral:</p>			
				<p:selectOneMenu styleClass="selectores bloque" id="selector_tipoDatoLaboral" value="#{expEvalManagedBean.tipoLaboral}" >				
					<f:selectItems value="#{expEvalManagedBean.listTipoDatosLaborales}" />			        
			    </p:selectOneMenu>					
			    <div class="dialogoLaborales_secciones" >					
					<p>Nombre de la institucion:</p>  
	            	<p:inputText id="nombreInstitucion" value="#{expEvalManagedBean.nombreInstitucion}" />	            	
	            	<p>Telefono contacto:</p>	                  
	            	<p:inputText id="telefonoInstitucion" value="#{expEvalManagedBean.telefonoInstitucion}" />										
					<p>Pais:</p>    	
	            	<p:selectOneMenu id="selector_paisLaboral" styleClass="selectores bloque"  
	            	                 value="#{expEvalManagedBean.paisIdLaboral}" >				
						<f:selectItems value="#{expEvalManagedBean.listPaises}" />			        
			    	</p:selectOneMenu>	            	
					<p>Direccion de la institucion:</p>					  
            		<p:inputText id="institucionDireccion" value="#{expEvalManagedBean.institucionDireccion}" />
				</div>				
				<div class="dialogoLaborales_secciones" >
					<p>Cargo:</p>	                  
	            	<p:inputText id="nombreCargo" value="#{expEvalManagedBean.nombreCargo}" />
	            	<p>Descripcion Cargo:</p>	                  
	            	<p:inputText id="descripcionCargo" value="#{expEvalManagedBean.descripcionCargo}" />
	            	<p:growl id="growlFechaDesde" showDetail="true"/>
	            	<p>Fecha Desde:</p>					
					<p:calendar value="#{expEvalManagedBean.fechaDesde}" pattern="dd/MM/yyyy" id="popupButtonCal1" showOn="button">
						<p:ajax event="dateSelect" update="growlFechaDesde" />
					</p:calendar>				
					<p:growl id="growlFechaHasta" showDetail="true"/>
					<p>Fecha Hasta:</p>					
					<p:calendar value="#{expEvalManagedBean.fechaHasta}" pattern="dd/MM/yyyy" id="popupButtonCal2" showOn="button">
						<p:ajax event="dateSelect" update="growlFechaHasta" />
					</p:calendar>
				</div>				    	    							
				<div style="float:right;">
				<p:commandButton value="Cerrar" action="#{expEvalManagedBean.limpiarCampos}" 
				                 oncomplete="PF('dlg1').hide();" />				
				</div>
				    
				<p:dataTable id="dtPortafolioLaboral" emptyMessage="No hay datos"  var="varPortafolioLaboral" 
				             value="#{expEvalManagedBean.listPortafolioLaboral}"				             
						     selection="#{expEvalManagedBean.selectedArchivoId}"
							 selectionMode="single"
                             rowKey="#{varPortafolioLaboral}" 
                 			  paginator="true" rows="3" style="margin-top:8px;" >  
                             <f:facet name="header">  
					            Portafolio de Evidencias  
					         </f:facet> 
                             <p:column headerText="Documento de soporte o evidencia"><h:outputText value="#{varPortafolioLaboral.nombre}" />[<h:outputText value="#{varPortafolioLaboral.nombreReal}" />]</p:column>  
                             <p:column headerText="Descripcion"><h:outputText value="#{varPortafolioLaboral.descripcion}" /></p:column>  
                             <p:column headerText="Respaldo de"><h:outputText value="#{varPortafolioLaboral.laboral.nombre}" /></p:column>  
                             <p:column headerText="Estado"><h:outputText value="#{varPortafolioLaboral.estado.valor}" /></p:column>                                   
               </p:dataTable>
		    </div>					
		</p:dialog>    	
    	<!--  Fin Cuadro de dialogo emergente que registra datos laborales y académicos -->
    	
    	</h:form>
    </div> 
</h:body>
</html>
