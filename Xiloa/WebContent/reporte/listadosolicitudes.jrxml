<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="listadosolicitudes" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="637"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="Table Dataset 1"/>
	<parameter name="certificacionid" class="java.lang.Long"/>
	<parameter name="idCentro" class="java.lang.Integer"/>
	<parameter name="idEstado" class="java.lang.Integer"/>
	<parameter name="logoinatec" class="java.lang.String"/>
	<queryString language="SQL">
		<![CDATA[select c.certificacion_nombre as cert_nombre,
       c.certificacion_ifp_nombre as centro,
       s.solicitud_nombre as solicitud_nombre,
       s.fecha_matricula as fmatricula,
       s.fecha_registro as fregistro,
       s.ocupacion as ocupacion,
       s.oficio as oficio,
       est.mantenedor_valor as solicitud_estado,
       cu.nombre_completo as contacto_nombre,
       cu.numero_identificacion as contacto_niu,
       cu.correo1 as contacto_email,
       cu.telefono1 as contacto_telefono,
       cu.telefono2 as contacto_celular,
       cu.direccion_actual as dir_domicilio,
       mun.nombre as municipio_nombre,
       g.genero_nombre as genero,
       p.pais_nacionalidad
from sccl.solicitudes s, sccl.certificaciones c, sccl.contactos cu,
     (select m.mantenedor_id as genero_id, m.mantenedor_valor as genero_nombre from sccl.mantenedores m where m.mantenedor_tipo = '11') g,
     public.municipio mun, sccl.paises p,
     sccl.mantenedores est
where (c.certificacion_id = $P{certificacionid} or $P{certificacionid} is null)
 and  (c.certificacion_ifp_id = $P{idCentro} or $P{idCentro} is null)
 and s.certificacion_id = c.certificacion_id
 and (s.solicitud_estatus = $P{idEstado} or $P{idEstado} is null)
 and cu.contacto_id = s.contacto_id
 and g.genero_id = cu.sexo_id
 and mun.municipioid = cu.municipio_id
 and mun.departamentoid = cu.departamento_id
 and p.pais_id = cu.nacionalidad_id
 and est.mantenedor_tipo = s.tipomantenedorestado
 and est.mantenedor_id = s.solicitud_estatus]]>
	</queryString>
	<field name="cert_nombre" class="java.lang.String"/>
	<field name="centro" class="java.lang.String"/>
	<field name="solicitud_nombre" class="java.lang.String"/>
	<field name="fmatricula" class="java.sql.Date"/>
	<field name="fregistro" class="java.sql.Date"/>
	<field name="ocupacion" class="java.lang.String"/>
	<field name="oficio" class="java.lang.String"/>
	<field name="solicitud_estado" class="java.lang.String"/>
	<field name="contacto_nombre" class="java.lang.String"/>
	<field name="contacto_niu" class="java.lang.String"/>
	<field name="contacto_email" class="java.lang.String"/>
	<field name="contacto_telefono" class="java.lang.String"/>
	<field name="contacto_celular" class="java.lang.String"/>
	<field name="dir_domicilio" class="java.lang.String"/>
	<field name="genero" class="java.lang.String"/>
	<field name="pais_nacionalidad" class="java.lang.String"/>
	<field name="municipio_nombre" class="java.lang.String"/>
	<group name="centro" isStartNewPage="true" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[$F{centro}]]></groupExpression>
		<groupHeader>
			<band height="21">
				<textField>
					<reportElement x="94" y="4" width="702" height="13"/>
					<textElement>
						<font isBold="true" isUnderline="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{centro}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="6" y="3" width="51" height="14"/>
					<textElement/>
					<text><![CDATA[Centro:]]></text>
				</staticText>
			</band>
		</groupHeader>
	</group>
	<group name="cert_nombre">
		<groupExpression><![CDATA[$F{cert_nombre}]]></groupExpression>
		<groupHeader>
			<band height="21">
				<textField>
					<reportElement x="95" y="4" width="657" height="13"/>
					<textElement>
						<font isBold="true" isUnderline="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{cert_nombre}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="11" y="4" width="71" height="14"/>
					<textElement/>
					<text><![CDATA[Certificaci칩n: ]]></text>
				</staticText>
			</band>
		</groupHeader>
	</group>
	<group name="solicitud_estado">
		<groupExpression><![CDATA[$F{solicitud_estado}]]></groupExpression>
		<groupHeader>
			<band height="21">
				<staticText>
					<reportElement x="22" y="4" width="47" height="14"/>
					<textElement/>
					<text><![CDATA[Estado: ]]></text>
				</staticText>
				<textField>
					<reportElement x="95" y="3" width="623" height="13"/>
					<textElement>
						<font isBold="true" isItalic="true" isUnderline="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{solicitud_estado}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<group name="genero">
		<groupExpression><![CDATA[$F{genero}]]></groupExpression>
		<groupHeader>
			<band height="24">
				<textField>
					<reportElement x="94" y="5" width="587" height="13"/>
					<textElement>
						<font isBold="true" isItalic="true" isUnderline="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{genero}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="34" y="4" width="51" height="14"/>
					<textElement/>
					<text><![CDATA[Genero: ]]></text>
				</staticText>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="72" splitType="Stretch">
			<staticText>
				<reportElement x="69" y="4" width="649" height="20"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[INSTITUTO NACIONAL TECNOLOGICO]]></text>
			</staticText>
			<staticText>
				<reportElement x="69" y="27" width="649" height="20"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[INATEC]]></text>
			</staticText>
			<textField>
				<reportElement x="708" y="50" width="39" height="20"/>
				<textElement textAlignment="Right">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["P치g. " +  $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy h.mm a">
				<reportElement x="0" y="50" width="192" height="20"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="718" y="4" width="78" height="43"/>
				<imageExpression class="java.lang.String"><![CDATA[$P{logoinatec}]]></imageExpression>
			</image>
			<textField evaluationTime="Report">
				<reportElement x="746" y="50" width="50" height="20"/>
				<textElement textAlignment="Left">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[" de " +  $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch">
			<staticText>
				<reportElement x="2" y="7" width="794" height="20"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[LISTADO DE SOLICITUDES]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="22" splitType="Stretch">
			<staticText>
				<reportElement x="3" y="4" width="149" height="14"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Nombre]]></text>
			</staticText>
			<staticText>
				<reportElement x="153" y="4" width="94" height="14"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Identificaci칩n]]></text>
			</staticText>
			<staticText>
				<reportElement x="255" y="4" width="82" height="14"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[F. Registro]]></text>
			</staticText>
			<staticText>
				<reportElement x="346" y="4" width="82" height="14"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[F. Matricula]]></text>
			</staticText>
			<staticText>
				<reportElement x="433" y="4" width="100" height="14"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Ocupaci칩n]]></text>
			</staticText>
			<staticText>
				<reportElement x="538" y="4" width="133" height="14"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Email]]></text>
			</staticText>
			<staticText>
				<reportElement x="676" y="4" width="75" height="14"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Telefono]]></text>
			</staticText>
			<line>
				<reportElement x="2" y="18" width="796" height="1"/>
			</line>
			<line>
				<reportElement x="2" y="20" width="796" height="1"/>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="25" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="4" y="3" width="149" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{contacto_nombre}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="156" y="3" width="94" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{contacto_niu}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="255" y="3" width="82" height="20"/>
				<textElement/>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{fregistro}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="341" y="3" width="82" height="20"/>
				<textElement/>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{fmatricula}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="426" y="3" width="100" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{ocupacion}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="531" y="3" width="140" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{contacto_email}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="681" y="3" width="115" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{contacto_telefono}!="N/D"?$F{contacto_telefono}:"")]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
